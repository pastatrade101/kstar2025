/**
 * @fileoverview Firestore Security Rules for EduPro Hub.
 *
 * Core Philosophy:
 * This ruleset provides public read access for all collections while restricting write access.
 *
 * Data Structure:
 * The database consists of four top-level collections: `/courses`, `/instructors`, `/news_events`, and `/admission_information`.
 * Each collection stores data related to its respective entity.
 *
 * Key Security Decisions:
 * - Public read access is granted to all collections to allow open access to course information,
 *   instructor details, news events, and admission information.
 * - Write access to `/news_events` collection is explicitly denied to all users (even authenticated).
 * - Write access to all other collections is explicitly denied to all users.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Rules for the /courses collection. Allows public read access and denies all write access.
     * @path /courses/{courseId}
     * @allow get, list: Anyone can read course information.
     * @allow create, update, delete: No one can create, update, or delete course information.
     * @deny create, update, delete: All write operations are denied.
     * @principle Allows public read access while denying all write access.
     */
    match /courses/{courseId} {
      allow get: if true;
      allow list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Rules for the /instructors collection. Allows public read access and denies all write access.
     * @path /instructors/{instructorId}
     * @allow get, list: Anyone can read instructor information.
     * @allow create, update, delete: No one can create, update, or delete instructor information.
     * @deny create, update, delete: All write operations are denied.
     * @principle Allows public read access while denying all write access.
     */
    match /instructors/{instructorId} {
      allow get: if true;
      allow list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Rules for the /news_events collection. Allows public read access and denies all write access.
     * @path /news_events/{newsEventId}
     * @allow get, list: Anyone can read news events.
     * @allow create, update, delete: No one can create, update, or delete news events.
     * @deny create, update, delete: All write operations are denied.
     * @principle Allows public read access while denying all write access.
     */
    match /news_events/{newsEventId} {
      allow get: if true;
      allow list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Rules for the /admission_information collection. Allows public read access and denies all write access.
     * @path /admission_information/{admissionInformationId}
     * @allow get, list: Anyone can read admission information.
     * @allow create, update, delete: No one can create, update, or delete admission information.
     * @deny create, update, delete: All write operations are denied.
     * @principle Allows public read access while denying all write access.
     */
    match /admission_information/{admissionInformationId} {
      allow get: if true;
      allow list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }
  }
}